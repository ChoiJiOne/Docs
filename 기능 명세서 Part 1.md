# [기능 명세서 Part 1 : 명세서 작업이 귀찮나요?](https://www.joelonsoftware.com/2000/10/02/painless-functional-specifications-part-1-why-bother/)

조엘 테스트가 처음 등장했을 때, 독자들이 가장 많이 지적한 문제 중 하나는 명세서를 작성하는 것이었습니다. 명세서는 마치 치실 사용과 같아서, 모두가 작성해야 한다는 것은 알고 있지만 아무도 실제로는 하지 않습니다.

사람들이 왜 명세서를 작성하지 않을까요? 사람들은 명세서를 작성하는 단계를 건너뜀으로써 시간을 절약하고 있다고 주장합니다. 마치 명세서 작성은 NASA 우주왕복선 엔지니어나, 거대한 보험회사에 다니는 사람들만을 위한 사치인 것처럼 행동합니다. 말도 안 됩니다. 무엇보다, 명세서를 작성하지 않는 것은 소프트웨어 프로젝트에서 감수하는 가장 불필요하고 큰 위험입니다. 아무런 준비 없이 모하비 사막을 건너겠다고 나서는 것만큼이나 어리석은 일입니다. 명세서 없이 바로 코딩에 뛰어드는 프로그래머와 소프트웨어 엔지니어들은 자신이 멋진 총잡이처럼 행동한다고 생각합니다. 그렇지 않습니다. 그들은 생산성이 매우 낮습니다. 나쁜 코드를 작성하고, 조악한 소프트웨어를 만들며, 전혀 필요하지 않은 큰 위험을 감수함으로써 프로젝트를 위협합니다.

저는 이렇게 믿습니다. 사소하지 않은 프로젝트(약 일주일 이상의 코딩이 필요하거나 두 명 이상의 프로그래머가 참여하는 경우)에서는 명세서가 없다면 항상 더 많은 시간이 들고 더 낮은 품질의 코드가 만들어집니다. 그 이유는 다음과 같습니다.

명세서의 가장 중요한 기능은 프로그램을 설계하는 것입니다. 비록 혼자서 코드를 작성하고, 명세서를 오직 자신만을 위해 작성하더라도, 명세서를 작성하는 행위 — 즉, 프로그램이 어떻게 작동하는지를 세세하게 설명하는 과정 — 는 실제로 프로그램을 설계하게 만듭니다.

이제 두 명의 가상의 프로그래머를 살펴보겠습니다. Hasty Bananas Software에 있는 Speedy는 절대 명세서를 작성하지 않습니다. “명세서? 그런 건 필요 없어!” 라고 말합니다. 한편, The Well-Tempered Software Company에 있는 Mr. Rogers는 명세서가 완벽하게 확정되기 전까지는 코드 작성을 거부합니다. 이 둘은 제 여러 상상 속 친구들 중 일부일 뿐입니다.

Speedy와 Mr. Rogers는 공통점이 하나 있습니다. 두 사람 모두 각자의 제품의 2.0 버전에 대해 하위 호환성을 책임지고 있다는 것입니다.

Speedy는 하위 호환성을 제공하는 가장 좋은 방법이 1.0 버전 파일을 2.0 버전 파일로 변환해주는 변환기를 작성하는 것이라고 판단합니다. 그녀는 바로 작업에 착수합니다. 타자, 타자, 타자. 딸깍딸깍 타닥타닥. 하드 드라이브가 돌아가고 먼지가 날립니다. 약 2주 후, 그녀는 꽤 괜찮은 변환기를 완성합니다. 그러나 Speedy의 고객들은 만족하지 않습니다. 그녀의 코드는 회사 내 모든 사용자가 동시에 새로운 버전으로 업그레이드해야만 하도록 강제하기 때문입니다. Speedy의 가장 큰 고객인 Nanner Splits Unlimited는 새 소프트웨어 구매를 거부합니다. Nanner Splits는 2.0 버전이 변환 없이도 여전히 1.0 파일을 열고 작업할 수 있어야 한다고 요구합니다. Speedy는 역변환기를 작성한 뒤 이를 “저장” 기능에 연결하기로 결정합니다. 하지만 약간 엉망입니다. 왜냐하면 2.0 버전의 기능을 사용할 때는 아무 문제 없어 보이다가, 파일을 1.0 형식으로 저장하려고 할 때 비로소 그 기능이 오래된 형식에서는 작동하지 않는다는 사실을 알게 되기 때문입니다. 역변환기를 작성하는 데 또 다른 2주가 걸렸고, 결과도 그다지 좋지 않습니다. 총 소요 시간은 4주입니다.

이제 Well-Tempered Software Company(속칭 “WellTemperSoft”)의 Mr. Rogers 차례입니다. 그는 코드 작성 전에 반드시 명세서를 완성해야만 하는 꼼꼼한 성격의 개발자입니다. 그는 Speedy와 동일한 방식으로 하위 호환성 기능을 설계하는 데 약 20분을 들인 뒤, 다음과 같은 내용을 담은 명세서를 작성합니다:

> 이전 버전의 제품으로 생성된 파일을 열 때, 해당 파일은 새로운 형식으로 변환됨.

이 명세서를 고객에게 보여주자, 고객은 “잠깐만요! 우리 모두를 한 번에 전환하고 싶지 않아요!”라고 말합니다. 그래서 Mr. Rogers는 다시 생각한 후, 명세서를 다음과 같이 수정합니다:

> 이전 버전의 제품으로 생성된 파일을 열 때, 해당 파일은 메모리 상에서 새로운 형식으로 변환됨. 이 파일을 저장할 때, 사용자는 다시 이전 형식으로 변환할 수 있는 선택지를 제공받음.

이렇게 다시 20분이 지나갑니다.

Mr. Rogers의 상사는 객체 지향에 심취해 있는 인물인데, 이 명세서를 보고 뭔가 문제가 있을지도 모른다고 생각합니다. 그는 다른 아키텍처를 제안합니다.

코드를 두 개의 인터페이스로 구성하자는 것입니다: V1과 V2. V1은 모든 버전 1의 기능을 포함하고, V1을 상속받는 V2는 모든 새로운 기능을 추가로 포함합니다. 이제 V1::Save는 하위 호환성을 처리할 수 있고, V2::Save는 모든 새로운 기능을 저장하는 데 사용됩니다. 만약 사용자가 V1 파일을 열고 V2 기능을 사용하려고 하면, 프로그램은 즉시 경고를 줄 수 있으며, 사용자는 파일을 변환하거나 새로운 기능 사용을 포기해야 합니다.

이렇게 또 20분이 지나갑니다.

Mr. Rogers는 언짢습니다. 이 리팩터링 작업은 그가 처음에 예상했던 2주보다 더 걸려서 3주나 소요될 예정입니다! 하지만 이 방식은 모든 고객의 문제를 우아하게 해결해 주므로, 그는 결국 이 작업을 하기로 합니다.

Mr. Rogers의 총 소요 시간: 3주 1시간.
Speedy의 소요 시간: 4주, 하지만 Speedy의 코드는 그만큼 좋지 않습니다.

이 이야기의 교훈은, 억지로 만든 예제를 이용하면 무엇이든 증명할 수 있다는 것입니다. 아, 그게 아니라, 제가 하려던 말은 이겁니다. 이 이야기의 진짜 교훈은, 제품을 자연어로 설계할 때는 여러 가능성을 시도하고, 수정하고, 개선하는 데 몇 분밖에 걸리지 않는다는 점입니다. 워드 프로세서에서 문단 하나를 삭제하는 데 죄책감을 느끼는 사람은 없습니다. 그러나 제품을 프로그래밍 언어로 설계할 경우, 반복적인 설계를 하는 데 몇 주가 걸립니다. 더 나쁜 것은, 어떤 프로그래머가 2주 동안 코드를 작성했을 경우, 그 코드가 틀렸다고 하더라도 거기에 정이 들어버린다는 것입니다. Speedy의 상사나 고객이 무슨 말을 하든, 그녀는 자신이 만든 변환 코드를 버리려 하지 않을 것입니다. 그것이 최상의 아키텍처가 아니었음에도 불구하고 말입니다. 그 결과 최종 제품은 처음의 잘못된 설계와 이상적인 설계 사이의 타협안이 되어버립니다. 즉, “이미 이렇게 많은 코드를 작성해버렸고, 그것을 버리기는 싫으니 할 수 있는 최선의 설계”가 됩니다. “조건 없이 가능한 최고의 설계”보다는 못한 결과입니다.

이것이 명세서를 작성해야 하는 가장 큰 이유 중 첫 번째입니다. 두 번째로 큰 이유는 의사소통 시간을 절약하기 위해서입니다. 명세서를 작성하면, 프로그램이 어떻게 동작해야 하는지를 단 한 번만 설명하면 됩니다. 팀의 모든 구성원은 그 명세서를 읽기만 하면 됩니다.
QA 팀은 그것을 읽고 프로그램이 어떻게 동작해야 하는지를 파악하고, 무엇을 테스트해야 할지를 알게 됩니다.
마케팅 팀은 그걸 바탕으로 아직 만들어지지도 않은 제품에 대해 웹사이트에 올릴 뜬구름 잡는 화이트 페이퍼를 작성합니다.
사업 개발 팀은 그것을 잘못 읽고, 제품이 대머리나 사마귀 같은 것을 치료해줄 거라는 괴상한 환상을 꾸밉니다. 그래도 투자자를 얻는 데는 도움이 되니 괜찮습니다.
개발자들은 무엇을 코딩해야 할지 알기 위해 그것을 읽습니다.
고객들은 개발자들이 자신들이 기꺼이 돈을 지불할 만한 제품을 만들고 있는지 확인하기 위해 읽습니다.
기술 문서 작성자들은 그것을 읽고 매뉴얼을 작성합니다 (그 매뉴얼은 결국 잃어버리거나 버려지겠지만, 그건 또 다른 이야기입니다).
관리자들은 회의 자리에서 자신들이 무슨 일이 벌어지고 있는지 아는 것처럼 보이기 위해 읽습니다.
등등.

명세서가 없을 경우, 이러한 의사소통은 여전히 일어나야 하므로 계속 일어나긴 합니다. 다만 그 방식이 즉흥적이고 비체계적입니다. QA 팀은 아무 생각 없이 프로그램을 이리저리 건드리다가, 뭔가 이상해 보이면 또다시 프로그래머를 방해해서 프로그램이 어떻게 작동해야 하는지를 물어보게 됩니다. 이것은 프로그래머의 생산성을 망칠 뿐만 아니라, 프로그래머들은 보통 코드에 적은 대로 대답하기 때문에 “정답”이 아닌 내용을 말하게 됩니다. 그래서 QA 팀은 프로그램이 설계대로 작동하는지를 테스트하는 것이 아니라, 그저 프로그램을 프로그램에 대고 테스트하는 셈이 되어버립니다. 그보다는 설계 기준으로 테스트하는 쪽이, 음, 훨씬 더 유용하겠지요.

명세서가 없을 때 가장 웃기면서도 안타까운 일이 벌어지는 사람은 불쌍한 기술 문서 작성자들입니다. 기술 문서 작성자들은 종종 프로그래머를 방해할 만한 정치적 영향력이 없습니다. 많은 회사에서, 기술 문서 작성자가 어떤 기능이 어떻게 동작하는지 물어보기 위해 프로그래머를 자주 방해하게 되면, 프로그래머들은 관리자에게 가서 “그 [욕설 생략] 문서 작성자들 때문에 아무 일도 못 하겠다”며 불평을 합니다. 그러면 관리자는 생산성을 높이기 위해 기술 문서 작성자들에게 더 이상 소중한 프로그래머의 시간을 낭비하지 말라고 명령하게 됩니다.

이런 회사는 쉽게 알아볼 수 있습니다. 도움말 파일이나 매뉴얼이 화면에서 직접 확인할 수 있는 정보 외에는 아무런 추가 정보도 제공하지 않기 때문입니다. 예를 들어, 화면에 이런 메시지가 떴다고 해 봅시다.

> LRF-1914 지원을 활성화하시겠습니까?

…그리고 "도움말" 버튼을 클릭하면, 비극적인 코미디 같은 도움말 항목이 다음과 같이 나옵니다.

> LRF-1914 지원(기본값) 또는 LRF-1914 미지원 중에서 선택할 수 있습니다.  
> LRF-1914 지원을 원하면 "예"를 선택하거나 “Y”를 누르십시오.  
> 원하지 않으면 "아니오"를 선택하거나 “N”을 누르십시오.

…음, 고맙습니다. 이 경우는 기술 문서 작성자가 LRF-1914 지원이 무엇인지 전혀 모른다는 사실을 감추기 위해 애쓰고 있다는 것이 명백합니다. 프로그래머에게 물어볼 수 없었던 이유는 (a) 부끄러워서, (b) 프로그래머는 하이데라바드에 있고 문서 작성자는 런던에 있어서, (c) 관리자에 의해 프로그래머를 방해하지 말라는 지시를 받았기 때문, 혹은 이 외에도 셀 수 없이 많은 기업 조직의 병폐 때문일 수 있습니다. 하지만 근본적인 문제는 명세서가 없었다는 것입니다.

명세서를 반드시 작성해야 하는 세 번째 중요한 이유는, 자세한 명세서 없이 일정 계획을 세우는 것은 불가능하기 때문입니다. 일정이 없는 것이 괜찮은 경우도 있습니다. 예를 들어 박사 논문이라서 14년쯤 걸릴 계획이라든가, 차세대 Duke Nukem을 개발 중인데 "준비되면 출시하겠다"는 식이라면 말이죠. 그러나 대부분의 실제 비즈니스에서는 일이 얼마나 걸릴지를 반드시 알아야 합니다. 제품을 개발하는 데는 비용이 들기 때문입니다. 가격도 모른 채 청바지를 사지는 않으면서, 어떻게 한 기업이 제품 개발에 걸리는 시간과 그로 인한 비용도 모르고 책임 있게 결정을 내릴 수 있겠습니까?
일정 수립에 대한 자세한 내용은 Painless Software Schedules를 참조하십시오.

아주 흔한 실수 중 하나는 어떤 기능을 어떻게 설계할지를 놓고 논쟁을 벌인 뒤, 논쟁을 끝내지 않고 방치하는 것입니다. Windows 2000의 수석 개발자였던 Brian Valentine은 “10분 안에 결정을 내리거나, 다음 결정은 공짜”라는 모토로 유명했습니다.

너무 많은 개발 조직에서, 설계에 대한 논쟁이 벌어질 때 정치적인 이유 등으로 인해 아무도 결정을 내리지 못합니다. 그래서 개발자들은 논란이 없는 일만 작업하게 됩니다. 시간이 지나면서 어려운 결정들은 전부 뒤로 밀리게 되죠. 이런 프로젝트는 실패할 가능성이 가장 높습니다. 만약 새로운 기술을 기반으로 회사를 창업했는데, 그 회사가 본질적으로 결정을 내릴 수 없는 구조라면, 지금 당장 회사를 접고 투자자들에게 돈을 돌려주는 편이 낫습니다. 어차피 출시할 수 있는 건 아무것도 없을 테니까요.

명세서를 작성하는 것은, 명세서가 없으면 묻히기 쉬운 크고 작은 귀찮은 설계 결정을 명확히 하는 훌륭한 방법입니다. 사소한 결정조차 명세서를 통해 명확히 할 수 있습니다. 예를 들어, 멤버십 기능이 있는 웹사이트를 만든다고 할 때, 사용자가 비밀번호를 잊어버리면 이메일로 전송해주자는 데 모두가 동의할 수 있습니다. 좋습니다. 하지만 그것만으로는 코드를 작성할 수 없습니다. 코드를 작성하려면, 그 이메일에 들어갈 실제 문구를 알아야 합니다. 대부분의 회사에서는 사용자가 실제로 보게 될 문구를 프로그래머가 직접 작성하도록 맡기지 않습니다(그럴 만한 이유도 많습니다). 그래서 마케팅 담당자, PR 담당자, 혹은 영어를 전공한 누군가가 그 메시지의 정확한 문구를 정해야 합니다.
예를 들어 이런 식일 수 있습니다:
“친애하는 사용자님, 잊어버린 비밀번호는 다음과 같습니다. 앞으로는 좀 더 주의해 주세요.”
완전하고 좋은 명세서를 작성하려고 하면 이러한 모든 사항들이 드러나고, 이를 고치거나 최소한 큰 빨간 깃발로 표시할 수 있게 됩니다.

좋습니다. 이제 우리 생각이 일치하는 것 같습니다. 명세서는 엄마의 사랑이나 애플파이처럼 당연하고 좋은 것입니다. 대부분의 사람들이 이 사실을 이해하고 있다고 생각합니다. 제 이 긴 잔소리들이 재미는 있을지 몰라도, 새로울 것은 없을 것입니다. 그렇다면 왜 사람들은 명세서를 작성하지 않을까요? 시간을 절약하기 위해서가 아닙니다. 실제로는 시간이 더 걸리기 때문이고, 대부분의 프로그래머들도 이를 알고 있습니다. (대부분의 조직에서 존재하는 ‘명세서’란, 프로그래머가 코드를 다 짠 뒤, 세 번째 백 번째 사람에게 기능 설명을 한 다음 Notepad에 대충 적은 한 페이지짜리 문서일 뿐입니다.)

제가 보기엔, 그 이유는 많은 사람들이 글쓰기를 좋아하지 않기 때문입니다. 빈 화면을 마주하고 있는 일은 정말로 좌절감을 줍니다. 개인적으로 저는 대학 시절 매주 3~5페이지 에세이를 써야 하는 수업을 들으면서 글쓰기에 대한 두려움을 극복했습니다. 글쓰기는 근육과도 같습니다. 많이 쓸수록 더 잘 쓸 수 있게 됩니다. 명세서를 써야 하는데 자신이 없다면, 일기를 써보거나, 블로그를 시작하거나, 창작 글쓰기 수업을 듣거나, 지난 4년 동안 연락하지 않았던 친척이나 대학 친구들에게 편지를 써보십시오. 종이에 단어를 적는 활동이라면 뭐든지 명세서 작성 능력을 키우는 데 도움이 됩니다. 만약 당신이 소프트웨어 개발 팀의 관리자이고 팀원들이 명세서를 쓰지 않는다면, 그들을 산속에서 2주간 진행하는 창작 글쓰기 수업에 보내십시오.

만약 기능 명세서를 작성하는 회사를 한 번도 경험해본 적이 없다면, 명세서라는 것을 본 적조차 없을 수도 있습니다. 다음 편에서는 짧은 예시 명세서를 보여드릴 테니 직접 확인해 보시고, 좋은 명세서에 무엇이 필요한지 이야기해보겠습니다. 계속 읽어주세요!